<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
</head>

<ion-header >
  <ion-toolbar>
    <ion-buttons>
      <ion-button (click)="goToLogin()">
        <ion-icon name="arrow-back-outline" class="flecha" size="large"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="tit_log">REGISTRO</ion-title>
  </ion-toolbar>
</ion-header>
  

  <ion-content>

  <ion-avatar class="center-avatar">
    <img src="assets/images/user.png" alt="logo" class="logo">
  </ion-avatar>
    
  <form [formGroup]="registerForm" (ngSubmit)="register(registerForm.value)" class="form">
    <ion-item>
      <ion-input label="Nombre" labelPlacement="floating" placeholder="Ingresa tu nombre" formControlName="nombre" type=""></ion-input>
    </ion-item>
      <div class="validation_messages">
        <ng-container *ngFor="let validation of Validation_messages.nombre">
          <div *ngIf="
          (registerForm.get('nombre')?.hasError(validation.type) &&
          (registerForm.get('nombre')?.dirty))
          "> <ion-button id="hover-trigger">?</ion-button>
          <ion-popover trigger="hover-trigger" triggerAction="hover">
            <ng-template>
              <ion-content class="ion-padding"> {{validation.message}}</ion-content>
            </ng-template>
          </ion-popover>
        </div>
        </ng-container>
      </div>
      <ion-item>
        <ion-input label="Apellido" labelPlacement="floating" placeholder="Ingresa tu apellido" formControlName="apellido" type=""></ion-input>
      </ion-item>
        <div class="validation_messages">
          <ng-container *ngFor="let validation of Validation_messages.apellido">
            <div *ngIf="
            (registerForm.get('apellido')?.hasError(validation.type) &&
            (registerForm.get('apellido')?.dirty))
            "> <ion-button id="hover-trigger">?</ion-button>
            <ion-popover trigger="hover-trigger" triggerAction="hover">
              <ng-template>
                <ion-content class="ion-padding"> {{validation.message}}</ion-content>
              </ng-template>
            </ion-popover>
          </div>
          </ng-container>
        </div>
    <ion-item class="email">
    <ion-input label="Email" labelPlacement="floating" placeholder="Ingresa tu email" formControlName="email"></ion-input>
  </ion-item>
    <div class="validation_messages">
      <ng-container *ngFor="let validation of Validation_messages.email">
        <div *ngIf="
        (registerForm.get('email')?.hasError(validation.type) &&
        registerForm.get('email')?.dirty)
        "><ion-button id="hover-trigger">?</ion-button>
        <ion-popover trigger="hover-trigger" triggerAction="hover">
          <ng-template>
            <ion-content class="ion-padding"> {{validation.message}}</ion-content>
          </ng-template>
        </ion-popover></div>
      </ng-container>
    </div>
    <ion-item>
    <ion-input label="Contrase単a" labelPlacement="floating" placeholder="Ingresa tu contrase単a" formControlName="password" type=""></ion-input>
  </ion-item>
    <div class="validation_messages">
      <ng-container *ngFor="let validation of Validation_messages.password">
        <div *ngIf="
        (registerForm.get('password')?.hasError(validation.type) &&
        (registerForm.get('password')?.dirty))
        "> <ion-button id="hover-trigger">?</ion-button>
        <ion-popover trigger="hover-trigger" triggerAction="hover">
          <ng-template>
            <ion-content class="ion-padding"> {{validation.message}}</ion-content>
          </ng-template>
        </ion-popover>
      </div>
      </ng-container>
    </div>
    
    <ion-item>
      <ion-input label="Confirmar contrase単a" labelPlacement="floating" placeholder="Confirma tu contrase単a" formControlName="conPassword" type=""></ion-input>
    </ion-item>
    <div class="validation_messages">
      <ng-container *ngFor="let validation of Validation_messages.conPassword">
        <div *ngIf="
          (registerForm.hasError(validation.type) &&
          (registerForm.get('conPassword')?.dirty))
        "> <ion-button id="hover-trigger">?</ion-button>
          <ion-popover trigger="hover-trigger" triggerAction="hover">
            <ng-template>
              <ion-content class="ion-padding"> {{validation.message}}</ion-content>
            </ng-template>
          </ion-popover>
        </div>
      </ng-container>
    </div>
    
    <ion-button shape="round" color="dark" type="submit"[disabled]="!registerForm.valid" expand="full">Registrarse</ion-button>
  </form> 
  <div class="validation_messages">
    {{registerMessage}}
  </div>
</ion-content>


